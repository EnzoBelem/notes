#DataBase

Para utilizar o **Redis com Python**, a biblioteca mais comum Ã© o **`redis-py`**, que fornece uma API para interagir com o Redis de forma eficiente. Aqui estÃ£o os principais mÃ©todos que vocÃª pode usar:

---

## **1ï¸âƒ£ Conectar ao Redis**

Primeiro, instale a biblioteca **`redis`** (caso ainda nÃ£o tenha):

```bash
pip install redis
```

Agora, crie um cliente Redis no Python:

```python
import redis

redis_client = redis.Redis(host="localhost", port=6379, db=0)
```

ğŸ“Œ **ParÃ¢metros principais**:

- `host="localhost"` â†’ Define o endereÃ§o do servidor Redis.
- `port=6379` â†’ Porta padrÃ£o do Redis.
- `db=0` â†’ Usa o banco de dados 0 (Redis permite mÃºltiplos bancos).

---

## **2ï¸âƒ£ Armazenar e Recuperar Valores**

### **ğŸ”¹ `SET` e `GET` (Salvar e Recuperar um Valor)**

```python
redis_client.set("chave", "valor")
valor = redis_client.get("chave").decode("utf-8")
print(valor)  # Output: valor
```

### **ğŸ”¹ `SETEX` (Salvar com ExpiraÃ§Ã£o)**

```python
redis_client.setex("token:123", 300, "meu_token")  # Expira em 300 segundos
```

### **ğŸ”¹ `MSET` e `MGET` (Salvar e Obter MÃºltiplos Valores)**

```python
redis_client.mset({"chave1": "valor1", "chave2": "valor2"})
valores = redis_client.mget("chave1", "chave2")
print([v.decode("utf-8") for v in valores])  # Output: ['valor1', 'valor2']
```

---

## **3ï¸âƒ£ Trabalhando com Contadores**

### **ğŸ”¹ `INCR` e `DECR` (Incrementar/Decrementar um Valor)**

```python
redis_client.set("contador", 10)
redis_client.incr("contador")  # Aumenta para 11
redis_client.decr("contador")  # Diminui para 10
print(redis_client.get("contador").decode("utf-8"))  # Output: 10
```

---

## **4ï¸âƒ£ Trabalhando com Listas (Fila FIFO/LIFO)**

### **ğŸ”¹ `LPUSH` e `RPUSH` (Adicionar Elementos)**

```python
redis_client.lpush("fila", "primeiro")  # Insere no inÃ­cio (LIFO)
redis_client.rpush("fila", "segundo")  # Insere no final (FIFO)
```

### **ğŸ”¹ `LPOP` e `RPOP` (Remover Elementos)**

```python
print(redis_client.lpop("fila").decode("utf-8"))  # Remove do inÃ­cio
print(redis_client.rpop("fila").decode("utf-8"))  # Remove do final
```

---

## **5ï¸âƒ£ Trabalhando com Conjuntos (Set)**

### **ğŸ”¹ `SADD` e `SMEMBERS` (Adicionar e Listar)**

```python
redis_client.sadd("meu_set", "item1", "item2", "item3")
print(redis_client.smembers("meu_set"))  # Output: {b'item1', b'item2', b'item3'}
```

### **ğŸ”¹ `SISMEMBER` (Verificar se um Item Existe)**

```python
print(redis_client.sismember("meu_set", "item1"))  # Output: True
```

---

## **6ï¸âƒ£ Trabalhando com DicionÃ¡rios (Hash)**

### **ğŸ”¹ `HSET`, `HGET` e `HGETALL` (Salvar e Recuperar)**

```python
redis_client.hset("usuario:1001", "nome", "JoÃ£o")
redis_client.hset("usuario:1001", "idade", 30)

print(redis_client.hget("usuario:1001", "nome").decode("utf-8"))  # Output: JoÃ£o
print(redis_client.hgetall("usuario:1001"))  # Output: {b'nome': b'JoÃ£o', b'idade': b'30'}
```

---

## **7ï¸âƒ£ Trabalhando com ExpiraÃ§Ã£o e RemoÃ§Ã£o**

### **ğŸ”¹ `EXPIRE` (Definir Tempo de Vida para uma Chave)**

```python
redis_client.set("temp_key", "temp_value")
redis_client.expire("temp_key", 60)  # Expira em 60 segundos
```

### **ğŸ”¹ `TTL` (Verificar Tempo Restante de ExpiraÃ§Ã£o)**

```python
print(redis_client.ttl("temp_key"))  # Output: 60 (tempo restante)
```

### **ğŸ”¹ `DELETE` (Remover uma Chave)**

```python
redis_client.delete("chave")
```

---

## **8ï¸âƒ£ Trabalhando com PublicaÃ§Ã£o e Assinatura (Pub/Sub)**

### **ğŸ”¹ Publicar uma Mensagem**

```python
redis_client.publish("canal_noticias", "Nova notÃ­cia publicada!")
```

### **ğŸ”¹ Assinar um Canal**

```python
pubsub = redis_client.pubsub()
pubsub.subscribe("canal_noticias")

for mensagem in pubsub.listen():
    if mensagem["type"] == "message":
        print(f"Recebido: {mensagem['data'].decode('utf-8')}")
```

ğŸ“Œ **Isso Ã© Ãºtil para WebSockets e notificaÃ§Ãµes em tempo real.**

---

## **ğŸ¯ ConclusÃ£o**

Aqui estÃ£o os **mÃ©todos essenciais** para usar Redis com Python:

|**FunÃ§Ã£o**|**DescriÃ§Ã£o**|
|---|---|
|`set(key, value)`|Armazena um valor|
|`get(key)`|Recupera um valor|
|`setex(key, ttl, value)`|Salva com expiraÃ§Ã£o automÃ¡tica|
|`incr(key)` / `decr(key)`|Incrementa ou decrementa um valor|
|`lpush(key, value)` / `rpush(key, value)`|Insere em uma lista|
|`lpop(key)` / `rpop(key)`|Remove da lista|
|`sadd(set, value)` / `smembers(set)`|Adiciona e lista um conjunto|
|`hset(hash, key, value)` / `hget(hash, key)`|Trabalha com dicionÃ¡rios|
|`expire(key, seconds)`|Define um tempo de expiraÃ§Ã£o|
|`publish(channel, message)`|Publica uma mensagem|
|`subscribe(channel)`|Assina um canal|

Se precisar de mais detalhes ou exemplos especÃ­ficos, me avise! ğŸš€